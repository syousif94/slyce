(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{272:function(e,t,n){"use strict";n.d(t,"a",(function(){return Pt}));var a=n(230),r=n(0),o=n.n(r),i=n(8),l=n(2),c=n(449),s=n(43),u=n(136),d=n(10),f=n(45),h=n(40),m=n(15),g=n.n(m);function p(e){var t=Object(r.useState)(e.value),n=g()(t,2),a=n[0],o=n[1];return Object(r.useEffect)((function(){var t=e.subscribe((function(e){o(e)}));return function(){t.unsubscribe()}}),[e]),a}var b=n(1),v=n.n(b),w=n(447),E=n(273),y=n(62),x=n(448),S=new w.a(null);function O(){var e;return v.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if("web"===d.a.OS){t.next=7;break}return t.next=3,v.a.awrap(x.b(x.a));case 3:if(e=t.sent,"granted"===e.status){t.next=7;break}throw new Error("Permission Required");case 7:case"end":return t.stop()}}),null,null,null,Promise)}function j(){var e;return v.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v.a.awrap(O());case 3:return t.next=5,v.a.awrap(E.a({mediaTypes:y.a.Images}));case 5:(e=t.sent).cancelled?S.next(null):S.next(e),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),null,null,[[0,9]],Promise)}var C,P=n(88),z=n(4),k=n.n(z),T=n(17),H=n(446),M=n(445);function W(e){var t=e.children,n=e.style,a=Object(c.c)();return o.a.createElement(l.a,{style:[{position:"absolute",maxWidth:400,alignSelf:"center",bottom:0,width:"100%",top:0,paddingBottom:a.bottom,justifyContent:"flex-end"},n],pointerEvents:"box-none"},t)}!function(e){e[e.Full=0]="Full",e[e.Slices=1]="Slices"}(C||(C={}));var I=new w.a(C.Full),D=new w.a(2),R=new w.a(0),L=new w.a(0),B=new w.a(0),A=new w.a(0);function V(){D.next(2),R.next(0),L.next(0),B.next(0),A.next(0),I.next(C.Full)}function F(){var e=D.value;D.next(e+1)}function N(){var e=D.value;e<=2||D.next(e-1)}var Y=n(39),X="rgba(48,48,48,0.45)";function q(e){var t=e.touchableStyle,n=e.onPress,a=e.children,r=e.disabled;return o.a.createElement(Y.a,{style:[{backgroundColor:X,borderRadius:10},t],onPress:n,disabled:r},a)}var J=n(26),G=n(444);function U(){var e=Object(J.useNavigation)();return o.a.createElement(Y.a,{style:{backgroundColor:X,borderRadius:10,flexDirection:"row",alignItems:"center",paddingVertical:5,paddingLeft:9,paddingRight:11},onPress:function(){e.goBack()}},o.a.createElement(G.a,{name:"chevron-left",size:28,color:"#fff"}))}var Z={flexDirection:"row",alignItems:"center",paddingVertical:8,paddingHorizontal:12};function K(e){var t=e.currentValue,n=e.disableDecrement,a=e.disableIncrement,r=e.onIncrement,i=e.onDecrement;return o.a.createElement(l.a,{style:{alignItems:"center",flexDirection:"row",justifyContent:"center"},pointerEvents:"box-none"},o.a.createElement(q,{onPress:i,disabled:n,touchableStyle:Z},o.a.createElement(M.a,{name:"minus",size:28,color:n?"rgba(140,140,140,0.8)":"#fff"})),o.a.createElement(l.a,{style:{width:140,alignItems:"center"}},o.a.createElement(T.a,{style:{fontSize:30,fontWeight:"700",color:"#fff"}},t)),o.a.createElement(q,{onPress:r,disabled:a,touchableStyle:Z},o.a.createElement(M.a,{name:"plus",size:28,color:"#fff"})))}var Q,$=n(46);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function te(e){var t=e.edge,n="chevron-left",a="chevron-right";switch(t){case Q.Top:n="chevron-up",a="chevron-down";break;case Q.Bottom:n="chevron-down",a="chevron-up"}var r=function(e){return function(){var n=[R,L,B,A][t],a=n.value+e;a>=0&&a<=99&&n.next(a)}},i=-1,c=1,s=e.value<=0,u=e.value>=99;return t===Q.Right&&(i=1,c=-1,s=e.value>=99,u=e.value<=0),o.a.createElement(l.a,{style:{flexDirection:"row",alignItems:"center"}},o.a.createElement(ne,{onPress:r(i),disabled:s},o.a.createElement(M.a,{name:n,size:28,color:s?"rgba(140,140,140,0.8)":"rgba(255, 27, 150, 0.8)"})),o.a.createElement(ae,e),o.a.createElement(ne,{onPress:r(c),disabled:u},o.a.createElement(M.a,{name:a,size:28,color:u?"rgba(140,140,140,0.8)":"rgba(255, 27, 150, 0.8)"})))}function ne(e){var t=e.children,n=e.onPress,a=e.disabled;return o.a.createElement(Y.a,{disabled:a,onPress:n,style:{paddingHorizontal:8}},t)}function ae(e){var t=e.value,n=e.onChange,a=e.edge,c=Object(r.useState)(!1),s=g()(c,2),u=s[0],d=s[1],f=Object(r.useRef)(null),h=t>0?"yellow":"#fff";return o.a.createElement(l.a,{style:{backgroundColor:u?"rgba(255,255,255,0.25)":X,borderRadius:5}},o.a.createElement($.a,{contextMenuHidden:!0,selectTextOnFocus:!0,returnKeyType:"done",keyboardType:"decimal-pad",ref:f,underlineColorAndroid:"transparent",style:ee(ee({},i.a.absoluteFillObject),{},{fontSize:14,color:h,fontWeight:"700",paddingLeft:10}),value:""+t,onFocus:function(){d(!0)},onBlur:function(){d(!1)},onChange:n(a)}),o.a.createElement(l.a,{style:{height:32,paddingHorizontal:10,justifyContent:"center"},pointerEvents:"none"},o.a.createElement(T.a,{style:{color:"transparent",fontSize:14,fontWeight:"700"}},t,o.a.createElement(T.a,{style:{color:h}},"%"))))}function re(){var e=[p(R),p(L),p(B),p(A)],t=function(e){return function(t){[R,L,B,A][e].next(Number(t.nativeEvent.text))}};return o.a.createElement(u.a,{behavior:"padding",pointerEvents:"box-none",enabled:"ios"===d.a.OS},o.a.createElement(l.a,{style:{alignItems:"center",justifyContent:"center",paddingBottom:35},pointerEvents:"box-none"},o.a.createElement(te,{value:e[Q.Top],edge:Q.Top,onChange:t}),o.a.createElement(l.a,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%",paddingHorizontal:"2%"},pointerEvents:"box-none"},o.a.createElement(te,{value:e[Q.Left],edge:Q.Left,onChange:t}),o.a.createElement(te,{value:e[Q.Right],edge:Q.Right,onChange:t})),o.a.createElement(te,{value:e[Q.Bottom],edge:Q.Bottom,onChange:t})))}function oe(){var e=p(I),t=e===C.Slices;return o.a.createElement(Y.a,{onPress:function(){switch(e){case C.Full:I.next(C.Slices);break;case C.Slices:I.next(C.Full)}},style:{backgroundColor:t?"rgba(130,130,130,0.45)":X,borderRadius:10,flexDirection:"row",alignItems:"center",paddingVertical:5,paddingLeft:9,paddingRight:11}},o.a.createElement(H.a,{name:"zoom-out-map",size:28,color:"#fff"}))}!function(e){e[e.Top=0]="Top",e[e.Bottom=1]="Bottom",e[e.Left=2]="Left",e[e.Right=3]="Right"}(Q||(Q={}));var ie=n(6),le=n.n(ie),ce=n(275),se=n(71);function ue(e,t,n){for(var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=e.width,o=e.height,i=r/(t=Math.round(t)),l=o/(n=Math.round(n)),c=Math.ceil(i/2),s=Math.ceil(l/2),u=me(e),d=u.getImageData(0,0,r,o),f=u.createImageData(t,n),h=d.data,m=f.data,g=0;g<n;g++)for(var p=0;p<t;p++){for(var b=4*(p+g*t),v=0,w=0,E=0,y=0,x=0,S=0,O=0,j=(g+.5)*l,C=Math.floor(g*l),P=Math.ceil((g+1)*l),z=C;z<P;z++)for(var k=Math.abs(j-(z+.5))/s,T=(p+.5)*i,H=k*k,M=Math.floor(p*i),W=Math.ceil((p+1)*i),I=M;I<W;I++){var D=Math.abs(T-(I+.5))/c,R=Math.sqrt(H+D*D);if(!(R>=1)){var L=4*(I+z*r);O+=(v=2*R*R*R-3*R*R+1)*h[L+3],E+=v,h[L+3]<255&&(v=v*h[L+3]/250),y+=v*h[L],x+=v*h[L+1],S+=v*h[L+2],w+=v}}m[b]=y/w,m[b+1]=x/w,m[b+2]=S/w,m[b+3]=O/E}a?(e.width=t,e.height=n):u.clearRect(0,0,r,o),u.putImageData(f,0,0)}function de(e,t,n){var a=n*Math.PI/180,r=Math.cos(a),o=Math.sin(a);return o<0&&(o=-o),r<0&&(r=-r),{width:t*o+e*r,height:t*r+e*o}}function fe(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,i=me(e);i.save(),i.drawImage(t,n,a,r,o,0,0,r,o)}function he(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],i=arguments.length>6&&void 0!==arguments[6]&&arguments[6],l=arguments.length>7?arguments[7]:void 0,c=arguments.length>8?arguments[8]:void 0,s=me(e);s.save(),null==l&&(l=t.naturalWidth),null==c&&(c=t.naturalHeight),s.translate(n+e.width/2,a+e.height/2);var u=2*Math.PI-r*Math.PI/180;s.rotate(u);var d=o?-1:1,f=i?-1:1;return s.scale(d,f),s.drawImage(t,-t.naturalWidth/2,-t.naturalHeight/2,t.naturalWidth,t.naturalHeight),s.restore(),s}function me(e){var t=e.getContext("2d");if(!t)throw new Error("Failed to create canvas context");return t}function ge(e,t){var n;if(t){var a=t.format,r=void 0===a?"png":a;"png"===t.format&&void 0!==t.compress&&console.warn("compress is not supported with png format.");var o=Math.min(1,Math.max(0,t.compress||1));n=e.toDataURL("image/"+r,o)}else n=e.toDataURL();return{uri:n,width:e.width,height:e.height,base64:n}}function pe(e){return new Promise((function(t,n){var a=new Image;a.onload=function(){return t(a)},a.onerror=function(){return n(a)},a.src=e}))}function be(e,t,n){var a,r,o,i,l,c,s,u,d,f,h,m,g,p,b,w,E,y,x,S,O,j,C,P,z,k,T;return v.a.async((function(H){for(;;)switch(H.prev=H.next){case 0:return a=document.createElement("canvas"),H.next=3,v.a.awrap(pe(e));case 3:return r=H.sent,a.width=r.naturalWidth,a.height=r.naturalHeight,t.crop?(o=t.crop,i=o.originX,l=void 0===i?0:i,c=o.originY,s=void 0===c?0:c,u=o.width,d=void 0===u?0:u,f=o.height,h=void 0===f?0:f,d=(m=function(e,t){return Math.max(0,Math.min(t,e))})(d,a.width),h=m(h,a.height),l=m(l,a.width),s=m(s,a.height),a.width=d,a.height=h,fe(a,r,l,s,d,h)):t.resize?(g=t.resize,p=g.width,b=g.height,w=r.naturalWidth/r.naturalHeight,E=0,y=0,void 0!==p&&(y=(E=p)/w),void 0!==b&&(y=b,0===E&&(E=y*w)),(x=me(a)).save(),x.drawImage(r,0,0,r.naturalWidth,r.naturalHeight),ue(a,E,y,!0)):void 0!==t.flip?(S=t.flip,O=S===ve.Horizontal,j=S===ve.Vertical,he(a,r,0,0,0,O,j)):void 0!==t.rotate?(C=t.rotate,P=de(r.naturalWidth,r.naturalHeight,C),z=P.width,k=P.height,a.width=z,a.height=k,he(a,r,0,0,C,!1,!1,z,k)):((T=me(a)).save(),T.drawImage(r,0,0,r.naturalWidth,r.naturalHeight)),H.abrupt("return",ge(a,n));case 8:case"end":return H.stop()}}),null,null,null,Promise)}var ve,we,Ee={manipulateAsync:function(e){var t,n,a,r,o,i,l,c,s=arguments;return v.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:if(t=s.length>1&&void 0!==s[1]?s[1]:[],n=s.length>2?s[2]:void 0,t.length){u.next=14;break}return a=document.createElement("canvas"),u.next=6,v.a.awrap(pe(e));case 6:return r=u.sent,a.width=r.naturalWidth,a.height=r.naturalHeight,me(a).drawImage(r,0,0,r.naturalWidth,r.naturalHeight),u.abrupt("return",ge(a,n));case 14:i=0;case 15:if(!(i<t.length)){u.next=25;break}return l=t[i],c=void 0,i===t.length-1&&(c=n),u.next=21,v.a.awrap(be(e||o.uri,l,c));case 21:o=u.sent;case 22:i++,u.next=15;break;case 25:return u.abrupt("return",o);case 26:case"end":return u.stop()}}),null,null,null,Promise)}};!function(e){e.Vertical="vertical",e.Horizontal="horizontal"}(ve||(ve={})),function(e){e.JPEG="jpeg",e.PNG="png",e.WEBP="webp"}(we||(we={}));var ye,xe=n(137),Se=n(58),Oe=function e(t,n,a,r,o,i){le()(this,e),this.images=new w.a([]),this.assets=[],this.image=t,this.slices=n,this.top=a,this.bottom=r,this.left=o,this.right=i},je=new w.a(null);function Ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ze(){var e=Object(r.useState)(ye.Slice),t=g()(e,2),n=t[0],a=t[1];return o.a.createElement(W,null,function(){switch(n){case ye.Slice:return o.a.createElement(Te,null);case ye.Trim:return o.a.createElement(re,null)}}(),o.a.createElement(He,null,"web"===d.a.OS?o.a.createElement(U,null):o.a.createElement(oe,null),o.a.createElement(l.a,{style:{flexDirection:"row"},pointerEvents:"box-none"},o.a.createElement(Ie,{disabled:n==ye.Trim,onToggle:function(){a(ye.Trim)},controlStyle:{borderTopRightRadius:0,borderBottomRightRadius:0,marginRight:3,backgroundColor:n==ye.Trim?"rgba(130,130,130,0.45)":X}}),o.a.createElement(We,{disabled:n==ye.Slice,onToggle:function(){a(ye.Slice)},controlStyle:{borderTopLeftRadius:0,borderBottomLeftRadius:0,backgroundColor:n==ye.Slice?"rgba(130,130,130,0.45)":X}})),"ios"===d.a.OS?o.a.createElement(U,null):null))}function ke(){return o.a.createElement(l.a,{style:{alignItems:"center",marginBottom:35}},o.a.createElement(q,{touchableStyle:Pe(Pe({},Me),{},{paddingVertical:10,paddingHorizontal:15}),onPress:function(){!function(){var e,t,n,a,r,o,i,l,c,s,u,f,h,m,g,p,b,w,E,y,x,O,j,C;v.a.async((function(P){for(;;)switch(P.prev=P.next){case 0:if(e=S.value,t=D.value,n=R.value,a=L.value,r=B.value,o=A.value,e){P.next=8;break}return P.abrupt("return");case 8:i=new Oe(e,t,n,a,r,o),je.next(i),l=D.value,c=Math.round(n/100*e.height),s=Math.round(a/100*e.height),u=e.height-c-s,f=Math.round(r/100*e.width),h=Math.round(o/100*e.width),m=e.width-f-h,g=Math.floor(m/l),p="web"===d.a.OS,b=[],P.prev=20,w=0;case 22:if(!(w<l)){P.next=33;break}return E=f+g*w,y=c,x=p?Ee.manipulateAsync:ce.a,P.next=28,v.a.awrap(x(e.uri,[{crop:{originX:E,originY:y,width:g,height:u}}],{compress:1,format:se.b.JPEG,base64:p}));case 28:O=P.sent,b.push(O);case 30:w++,P.next=22;break;case 33:if(p){P.next=43;break}j=0;case 35:if(!(j<b.length)){P.next=43;break}return P.next=38,v.a.awrap(Se.c(b[j].uri));case 38:C=P.sent,i.assets.push(C);case 40:j++,P.next=35;break;case 43:i.images.next(b),P.next=49;break;case 46:P.prev=46,P.t0=P.catch(20),xe.a.alert(P.t0.message);case 49:case"end":return P.stop()}}),null,null,[[20,46]],Promise)}()}},o.a.createElement(H.a,{name:"photo-camera",size:20,color:"#fff"}),o.a.createElement(T.a,{style:{color:"yellow",fontSize:12,fontWeight:"700",marginLeft:10}},"SAVE PHOTOS")))}!function(e){e[e.Slice=0]="Slice",e[e.Trim=1]="Trim"}(ye||(ye={}));var Te=function(){var e=p(D);return o.a.createElement(l.a,{style:{marginBottom:40},pointerEvents:"box-none"},o.a.createElement(ke,null),o.a.createElement(K,{currentValue:e,disableDecrement:e<=2,onIncrement:F,onDecrement:N}))},He=function(e){var t=e.children;return o.a.createElement(l.a,{style:{flexDirection:"row",justifyContent:"space-evenly",marginBottom:20},pointerEvents:"box-none"},t)},Me={flexDirection:"row",alignItems:"center",paddingVertical:4,paddingHorizontal:10},We=function(e){var t=e.onToggle,n=e.controlStyle,a=e.disabled;return o.a.createElement(q,{touchableStyle:Pe(Pe({},Me),n),onPress:t,disabled:a},o.a.createElement(M.a,{name:"scissors-cutting",size:20,color:"#fff",style:{transform:[{rotate:"45deg"},{translateY:-2}]}}),o.a.createElement(T.a,{style:{fontSize:12,fontWeight:"700",color:"#fff",marginLeft:8}},"SLICE"))},Ie=function(e){var t=e.onToggle,n=e.controlStyle,a=e.disabled;return o.a.createElement(q,{touchableStyle:Pe(Pe({},Me),n),onPress:t,disabled:a},o.a.createElement(M.a,{name:"aspect-ratio",size:20,color:"#fff"}),o.a.createElement(T.a,{style:{fontSize:12,fontWeight:"700",color:"#fff",marginLeft:8}},"CROP"))};function De(){var e=Object(h.a)(),t=Object(c.c)(),n=p(S),a=p(R),r=p(L),i=p(B),s=p(A),u=p(D),d=9*function(e,t,n,a,r,o){return(e.width-(r+o)/100*e.width)/t/(e.height-(n+a)/100*e.height)}(n,u,a,r,i,s),f=d>16;return o.a.createElement(l.a,{style:{position:"absolute",top:.04*e.height+t.top,alignSelf:"center",alignItems:"center"},pointerEvents:"none"},o.a.createElement(l.a,{style:{flexDirection:"row",marginBottom:12}},o.a.createElement(l.a,{style:{backgroundColor:X,borderRadius:10,paddingHorizontal:10,paddingVertical:8,flexDirection:"row",marginRight:6}},o.a.createElement(T.a,{style:{fontSize:12,fontWeight:"700",color:"#fff"}},"W"),o.a.createElement(T.a,{style:{fontSize:12,fontWeight:"700",color:"yellow",marginLeft:10}},Math.round((n.width-(i+s)/100*n.width)/u),"px")),o.a.createElement(l.a,{style:{backgroundColor:X,borderRadius:10,paddingHorizontal:10,paddingVertical:8,flexDirection:"row",marginLeft:6}},o.a.createElement(T.a,{style:{fontSize:12,fontWeight:"700",color:"#fff"}},"H"),o.a.createElement(T.a,{style:{fontSize:12,fontWeight:"700",color:"yellow",marginLeft:10}},n.height-(a+r)/100*n.height,"px"))),o.a.createElement(l.a,{style:{backgroundColor:X,borderRadius:10,paddingHorizontal:10,paddingVertical:8,flexDirection:"row"}},o.a.createElement(T.a,{style:{fontSize:12,fontWeight:"700",color:"#fff"}},"RATIO"),o.a.createElement(T.a,{style:{fontSize:12,fontWeight:"700",color:f?"red":"yellow",marginLeft:10}},d.toFixed(2)," : 9")))}function Re(){var e=Object(h.a)(),t=p(S);if(!t)return null;for(var n=p(D),a=p(R),r=p(L),i=p(B),c=p(A),s=n-1,u=[],d=0;d<s;d++)u.push(o.a.createElement(l.a,{key:"bar"+d,style:{backgroundColor:"rgba(235, 176, 40, 0.8)",width:1}}));var f=e.width/t.width,m=Math.round(i/100*e.width),g=Math.round(c/100*e.width),b=f*t.height,v=(t.height,Math.round(a/100*b)),w=Math.round(r/100*b);return o.a.createElement(l.a,{style:{position:"absolute",top:0,left:0,right:0,bottom:0,flexDirection:"row",justifyContent:"space-evenly",paddingTop:v,paddingLeft:m,paddingRight:g,paddingBottom:w}},u,o.a.createElement(l.a,{style:{position:"absolute",top:0,left:0,right:0,bottom:0,borderTopWidth:v,borderLeftWidth:m,borderRightWidth:g,borderBottomWidth:w,borderColor:"rgba(0,0,0,0.9)"}}),o.a.createElement(l.a,{style:{position:"absolute",top:v,left:m,right:g,bottom:w,borderWidth:1,borderTopColor:Le(a),borderLeftColor:Le(i),borderRightColor:Le(c),borderBottomColor:Le(r)}}))}function Le(e){return e>0?Be:Ae}var Be="rgba(255, 27, 150, 0.8)",Ae="rgba(255, 27, 150, 0)",Ve=n(11);function Fe(e){for(var t=e.offset,n=e.slices,a=e.window,r=[],i=0;i<n;i++)r.push(o.a.createElement(Ne,{offset:t,slices:n,window:a,index:i,key:""+i}));return o.a.createElement(l.a,{pointerEvents:"none",style:{alignSelf:"center",flexDirection:"row",height:2,marginBottom:-10,marginTop:8}},r)}function Ne(e){var t=e.offset,n=(e.slices,e.index),a=e.window,r=t.current.interpolate({inputRange:[(n-1)*a.width,n*a.width,(n+1)*a.width],outputRange:[-20,0,20],extrapolate:"clamp"});return o.a.createElement(l.a,{style:{width:20,backgroundColor:"#888",marginHorizontal:4,overflow:"hidden"}},o.a.createElement(Ve.a.View,{style:{flex:1,backgroundColor:"#fff",transform:[{translateX:r}]}}))}function Ye(e){var t=e.id,n=Object(r.useRef)(new Ve.a.Value(0)),a=Object(h.a)(),i=p(S),c=p(D),u=p(R),d=p(L),f=p(B),m=p(A);if(!i)return null;var g=f/100,b=1-(g+m/100),v=u/100,w=1-(v+d/100),E=i.width*b,y=i.height*w,x=E/c,O=a.width/x,j=y*O,C=x*O*c,z=C/b,k=j/w,T=k*-v,H=z*-g;return o.a.createElement(l.a,{style:{flex:1,backgroundColor:"#000",justifyContent:"center"}},o.a.createElement(l.a,{style:{height:j,width:a.width}},o.a.createElement(Ve.a.ScrollView,{showsHorizontalScrollIndicator:!1,scrollEventThrottle:16,onScroll:Ve.a.event([{nativeEvent:{contentOffset:{x:n.current}}}],{useNativeDriver:!0}),horizontal:!0,pagingEnabled:!0,style:{flex:1}},o.a.createElement(l.a,{style:{flex:1,backgroundColor:"#333",height:j,width:C,overflow:"hidden"}},o.a.createElement(P.a,{id:t},o.a.createElement(s.a,{source:i,style:{position:"absolute",height:k,width:z,top:T,left:H}}))))),o.a.createElement(Fe,{offset:n,window:a,slices:c}))}function Xe(){var e=Object(r.useState)([]),t=g()(e,2),n=t[0],a=t[1],i=p(je);return Object(r.useEffect)((function(){if(i){var e=i.images.subscribe((function(e){a(e)}));return function(){e.unsubscribe()}}}),[i]),i?o.a.createElement(l.a,{style:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",justifyContent:"center",alignItems:"center"}},o.a.createElement(l.a,{style:{alignItems:"center",maxWidth:"100%"}},o.a.createElement(T.a,{style:{color:"#fff",fontSize:16,fontWeight:"700",marginBottom:10}},n.length?"Slyced":"Slicing"),o.a.createElement(T.a,{style:{color:"#fff",fontSize:12,marginBottom:20,textAlign:"center",marginHorizontal:25,maxWidth:500}},n.length?"Click or tap to download each slyce. May take a few seconds for the download to start. Might not work on certain versions of iOS. Use the the app instead.":"Wait a few seconds... Apps do this a bit faster."),o.a.createElement(f.a,{horizontal:!0,style:{height:130,maxWidth:"100%"},centerContent:!0},o.a.createElement(l.a,{style:{flexDirection:"row",height:130}},n.map((function(e,t){return o.a.createElement(Y.a,{key:""+t,style:{height:130,width:150*e.width/e.height,overflow:"hidden",marginHorizontal:5},onPress:function(){setTimeout((function(){!function(e,t){var n,a=document.createElement("a");a.href=e,a.setAttribute("download",t),a.click(),null==(n=a.parentElement)||n.removeChild(a)}(e.base64,"slyce-"+(t+1)+".jpg")}),500)}},o.a.createElement("img",{style:{height:130,width:150*e.width/e.height,flex:"0 0 auto",cursor:"pointer"},src:e.base64}))}))))),o.a.createElement(qe,null)):null}function qe(){return o.a.createElement(q,{touchableStyle:{position:"absolute",top:20,right:20,height:44,width:44,justifyContent:"center",alignItems:"center"},onPress:function(){je.next(null)}},o.a.createElement(M.a,{name:"close",size:24,color:"#fff"}))}function Je(e){var t=e.route.params.id;return o.a.createElement(l.a,{style:{backgroundColor:"#000",flex:1}},o.a.createElement(u.a,{enabled:"ios"===d.a.OS,behavior:"padding",style:{flex:1}},o.a.createElement(Ge,{id:t})),o.a.createElement(ze,null),o.a.createElement(De,null),o.a.createElement(Xe,null))}function Ge(e){var t,n=e.id;switch(p(I)){case C.Full:t=o.a.createElement(Ue,{id:n});break;case C.Slices:t=o.a.createElement(Ye,{id:n});break;default:return null}return t}function Ue(e){var t=e.id,n=Object(h.a)(),a=p(S),r=a.height*n.width/a.width;return o.a.createElement(f.a,{style:{flex:1},bouncesZoom:!0,maximumZoomScale:4,minimumZoomScale:1,centerContent:!0,alwaysBounceVertical:!0,alwaysBounceHorizontal:!0,contentContainerStyle:"ios"===d.a.OS?null:{minHeight:n.height,justifyContent:"center",paddingBottom:"5%"}},o.a.createElement(l.a,null,o.a.createElement(P.a,{id:t},o.a.createElement(s.a,{source:a,style:{height:r,width:n.width}})),o.a.createElement(Re,null)))}var Ze=n(169),Ke=(n(433),n(228)),Qe=n(176),$e=n(18),_e=n.n($e),et=n(93),tt=n(173),nt=n.n(tt),at=n(264),rt=n.n(at),ot=n(274),it=n(174),lt=n.n(it);function ct(e){var t,n,a,r;return v.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,v.a.awrap(e);case 2:if(t=o.sent){o.next=5;break}return o.abrupt("return","");case 5:return n="",o.prev=6,a="@address/"+t.latitude+t.longitude,o.next=10,v.a.awrap(lt.a.getItem(a));case 10:if(null===(r=o.sent)||!r.length){o.next=13;break}return o.abrupt("return",r);case 13:return o.next=15,v.a.awrap(ot.a(t));case 15:return o.sent.find((function(e){return e.city&&e.country?(n=e.city+", "+e.country,!0):e.name?(n=e.name,!0):void 0})),o.next=19,v.a.awrap(lt.a.setItem(a,n));case 19:o.next=23;break;case 21:o.prev=21,o.t0=o.catch(6);case 23:return o.abrupt("return",n);case 24:case"end":return o.stop()}}),null,null,[[6,21]],Promise)}nt.a.extend(rt.a);var st=new w.a([]),ut=new Map;function dt(e){var t=nt()(e);return{date:t.format("ddd MMM D, YYYY [at] h:mma"),from:t.fromNow()}}function ft(e){var t,n,a;return v.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.total,n=e.after,a=e.album,r.abrupt("return",Se.g({album:a,sortBy:"ios"===d.a.OS?Se.a.modificationTime:void 0,first:t,after:n}));case 2:case"end":return r.stop()}}),null,null,null,Promise)}function ht(e){return e.filter((function(e){var t;return null==(t=e.mediaSubtypes)?void 0:t.includes("panorama")}))}function mt(){var e;return v.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if("web"===d.a.OS){t.next=7;break}return t.next=3,v.a.awrap(Se.h());case 3:if(e=t.sent,"granted"===e.status){t.next=7;break}throw new Error("Permission Required");case 7:case"end":return t.stop()}}),null,null,null,Promise)}function gt(){var e,t,n;return v.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(e=[],"android"!==d.a.OS){a.next=8;break}return a.next=4,v.a.awrap(Se.e());case 4:if(t=a.sent,t.find((function(e){return"Camera"===e.title}))){a.next=8;break}return a.abrupt("return");case 8:return a.next=10,v.a.awrap(ft({total:20,album:void 0}));case 10:n=a.sent,e=e.concat(ht(n.assets));case 12:if(!n.hasNextPage){a.next=19;break}return a.next=15,v.a.awrap(ft({total:20,after:n.endCursor,album:void 0}));case 15:n=a.sent,e=e.concat(ht(n.assets)),a.next=12;break;case 19:st.next(e);case 20:case"end":return a.stop()}}),null,null,null,Promise)}function pt(e){var t=e.item,n=(e.index,e.window),a=Object(J.useNavigation)(),i=pt.getHeight(t,n),c=function(e){var t=ut.get(e.id);if(t)return t;var n=dt(e.modificationTime),a=dt(e.creationTime),r=Se.f(e).then((function(e){return e.location}));return t={updatedAt:n,createdAt:a,coordinates:r,address:ct(r)},ut.set(e.id,t),t}(t),u=function(e){var t=Object(r.useState)(""),n=g()(t,2),a=n[0],o=n[1];return Object(r.useEffect)((function(){!function(){var t;v.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,v.a.awrap(e.address);case 2:t=n.sent,o(t);case 4:case"end":return n.stop()}}),null,null,null,Promise)}()}),[e]),a}(c);return o.a.createElement(Y.a,{style:{height:i,overflow:"hidden"},onPress:function(){!function(e){v.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:S.next(e);case 1:case"end":return t.stop()}}),null,null,null,Promise)}(t),V(),a.navigate("Editor - Slyce",{id:t.id})}},o.a.createElement(P.a,{id:t.id},o.a.createElement(s.a,{source:t,style:{height:i-pt.infoHeight,width:n.width,overflow:"hidden"}})),o.a.createElement(l.a,{style:{paddingHorizontal:10,paddingTop:10}},o.a.createElement(T.a,{style:{color:"#fff"},numberOfLines:1},u),o.a.createElement(T.a,{style:{color:"#fff"},numberOfLines:1},"created ",c.createdAt.from),o.a.createElement(T.a,{style:{color:"#fff"},numberOfLines:1},"updated ",c.updatedAt.from)))}pt.infoHeight=90,pt.getHeight=function(e,t){return Math.ceil(e.height*t.width/e.width)+this.infoHeight};var bt=n(112);function vt(){return o.a.createElement(l.a,null,o.a.createElement(wt,null),o.a.createElement(wt,null),o.a.createElement(wt,null))}function wt(){var e=Object(h.a)();return o.a.createElement(l.a,null,o.a.createElement(bt.a,{height:80,width:e.width-20,style:{marginLeft:10},shimmerColors:["#222","#333","#222"]}),o.a.createElement(bt.a,{height:20,width:80,shimmerColors:["#222","#333","#222"],style:{marginLeft:10,marginTop:20}}),o.a.createElement(bt.a,{height:15,width:150,shimmerColors:["#222","#333","#222"],style:{marginLeft:10,marginTop:5}}),o.a.createElement(bt.a,{height:15,width:150,shimmerColors:["#222","#333","#222"],style:{marginLeft:10,marginTop:5}}),o.a.createElement(T.a,null,"Austin, TX"),o.a.createElement(T.a,null,"Austin, TX"),o.a.createElement(T.a,null,"Austin, TX"))}function Et(){var e=Object(c.c)(),t=Object(h.a)(),n=p(st);return Object(r.useEffect)((function(){v.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.awrap(mt());case 3:return e.next=5,v.a.awrap(gt());case 5:Se.b((function(e){gt().catch((function(e){console.log(e.stack)}))})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),xe.a.alert("Error",e.t0.message);case 11:case"end":return e.stop()}}),null,null,[[0,8]],Promise)}),[]),o.a.createElement(l.a,{style:{flex:1,backgroundColor:"#000"}},o.a.createElement(et.a,{ListEmptyComponent:vt,ListHeaderComponent:function(){return o.a.createElement(l.a,{style:{height:80+e.top,paddingHorizontal:10,paddingTop:e.top}},o.a.createElement(T.a,{style:{fontSize:30,color:"#fff",fontWeight:"700"}},"Panoramas"),o.a.createElement(T.a,{style:{fontSize:14,color:"#ccc"}},"Select to split into equal slyces"))},contentInsetAdjustmentBehavior:"never",style:{flex:1},data:n,renderItem:function(e){return o.a.createElement(pt,_e()({window:t},e))},viewabilityConfig:Et.viewabilityConfig}))}function yt(){if("ios"===d.a.OS)return o.a.createElement(Et,null);var e=Object(h.a)(),t=Object(J.useNavigation)();return o.a.createElement(l.a,{style:{backgroundColor:"#000",height:"100%",alignItems:"center"}},o.a.createElement(l.a,{style:{flex:1}}),o.a.createElement(s.a,{source:n(420),style:{height:180,width:180,resizeMode:"cover"}}),o.a.createElement(T.a,{style:{color:"#fff",fontWeight:"500",marginTop:-10,marginBottom:30,marginHorizontal:50,lineHeight:20,textAlign:"center",zIndex:4}},"Select a panorama to split it into equal slyces"),o.a.createElement(q,{onPress:function(){return v.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.awrap(j());case 2:S.value&&(V(),t.navigate("Editor - Slyce",{id:""}));case 3:case"end":return e.stop()}}),null,null,null,Promise)},touchableStyle:{paddingVertical:12,paddingHorizontal:16}},o.a.createElement(T.a,{style:{color:"#fff",fontSize:15,fontWeight:"700"}},"SELECT PANORAMA")),o.a.createElement(l.a,{style:{flex:1,justifyContent:"flex-end",paddingTop:"web"===d.a.OS?.15*e.height:0}},o.a.createElement(xt,null)))}function xt(){return"web"!==d.a.OS?null:o.a.createElement(l.a,{style:{alignItems:"center",paddingBottom:40}},o.a.createElement(T.a,{style:{color:"#fff",marginBottom:20,fontWeight:"500"}},"Apps also available"),o.a.createElement(l.a,{style:{flexDirection:"row",padding:10,paddingTop:0}},o.a.createElement(q,{touchableStyle:{paddingHorizontal:12,paddingVertical:8,marginHorizontal:5}},o.a.createElement(T.a,{style:{color:"#fff",fontSize:13,fontWeight:"700"}},"iOS")),o.a.createElement(q,{touchableStyle:{paddingHorizontal:12,paddingVertical:8,marginHorizontal:5}},o.a.createElement(T.a,{style:{color:"#fff",fontSize:13,fontWeight:"700"}},"ANDROID"))))}function St(){return null}Et.viewabilityConfig={itemVisiblePercentThreshold:.1,minimumViewTime:250},Object(Ze.enableScreens)();var Ot=Object(Qe.a)(),jt=Object(Qe.a)();function Ct(){return o.a.createElement(Ot.Navigator,{headerMode:"none"},o.a.createElement(Ot.Screen,{name:"Slyce",component:yt}),o.a.createElement(Ot.Screen,{name:"Editor - Slyce",component:Je,sharedElements:function(e,t,n){return[e.params.id]}}))}function Pt(){return o.a.createElement(c.b,null,o.a.createElement(l.a,{style:zt.container},o.a.createElement(Ke.a,null,o.a.createElement(jt.Navigator,{mode:"modal",headerMode:"none"},o.a.createElement(jt.Screen,{name:"Main",component:Ct}),o.a.createElement(Ct,null),o.a.createElement(jt.Screen,{component:Ye,name:"Preview"}))),o.a.createElement(St,null),o.a.createElement(a.StatusBar,{style:"light"})))}var zt=i.a.create({container:{flex:1,backgroundColor:"#000"}})},286:function(e,t,n){e.exports=n(434)},420:function(e,t,n){e.exports=n.p+"static/media/splash.149243aa.png"}},[[286,1,2]]]);
//# sourceMappingURL=app.8285cbec.chunk.js.map